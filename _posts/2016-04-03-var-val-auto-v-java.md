---
id: 1609
title: 'Var (val, auto) в Java'
date: '2016-04-03T23:08:44+00:00'
author: serge
layout: post
guid: 'http://sotnyk.com/?p=1609'
permalink: /2016/04/03/var-val-auto-v-java/
---

[![java-var](https://sotnyk.github.io/wp-content/uploads/2016/04/java-var-300x240.jpg)](https://sotnyk.github.io/wp-content/uploads/2016/04/java-var.jpg)

Сейчас происходит активное обсуждение возможности введения в новую версию Java автоматического вывода типов, как это сделано в таких языках, как C# или C++. Вот в этих статьях можете почитать “pro et contra” относительно этого предложения:

- [Var и val в Java?](https://habrahabr.ru/post/280188/)
- [Ключевое слово «var» в Java: пожалуйста, только не это](https://habrahabr.ru/post/280075/)

У меня по этому поводу мнение такое. Код пишется один раз, читается много (банальная истина). Автоматический вывод типа во многих случаях заставляет делать дополнительные действия для того, чтобы понять, какого типа переменная. А значит, это плохо. Да, это привычно, например, для JavaScript-программистов, но там совершенно другая парадигма типизации.

Раздражение от явного и полного прописывания типов вызывают такие вот куски кода:  
```
List<Pair<String, Double>> scores = seeker.getScores(documentAsCentroid);
...
for (Pair<String, Double> score: scores)
```

И это (Pair&lt;String, Double&gt;) далеко не самый длинное определение типа, которое приходится повторять. А любые повторы – это действительно плохо (помимо того, что просто неуклюже). Но есть способ значительно лучше и выразительнее. Вот чего мне после Паскаля не хватало в Java, а затем в C#, так это конструкции типа Type (typedef в C). В C# под это дело пытался приспособить using, который позволяет в начале файла написать что-то типа:

```
using StopWordsTables = System.Collections.Generic.List<System.Collections.Generic.Dictionary<string, string>>;
```

Эта конструкция позволяла вместо той громоздкой писанины, что стоит справа, использовать идентификатор StopWordsTables. К сожалению, он действителен только в пределах одного исходного файла…

Вот если бы ввели typedef в Java, это бы решило проблему громоздких типов без ущерба для читаемости кода.

Возражения по поводу того, что можно было бы договориться использовать var только там, где тип легко вывести глазами (т.е., он явно виден в инициализаторе) не найдут у меня поддержки по одной простой причине. Аналогичное правило уже ввела в Code Agreement Майкрософт. Только вот практически никто этого не соблюдает. Var победило. Люди ленивы.

Да, еще момент – допустим, введут таки этот var, чтобы писать быстрее. Так почему бы не довести идею уже до логического завершения, как это сделано в Go? В инициализаторе вместо “=” писать “:=”, что означает, что тип выводится автоматически. И тогда вообще не нужно никакого слова писать на месте типа. Еще короче… Кстати, type в Go тоже есть, что очень удобно.